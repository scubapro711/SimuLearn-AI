{
  "name": "GameScenario",
  "description": "מגדיר תרחיש סימולציה מלא, כולל הגדרות, שלבים, נרטיב, ומיפוי פדגוגי.",
  "fields": [
    { "name": "name", "type": "text", "required": true },
    { "name": "description", "type": "text" },
    { "name": "narrative", "type": "longtext" },
    { "name": "initial_state", "type": "json" },
    { "name": "stages", "type": "json" },
    { "name": "created_by", "type": "uuid", "foreign_key": "User" },
    { "name": "curriculum_mapping", "type": "json", "description": "מיפוי לתכנית הלימודים, כפי שנדרש על ידי משרד החינוך." },
    { "name": "moe_approval_id", "type": "text", "description": "מזהה אישור של משרד החינוך לתרחיש." }
  ],
  "rls_rules": {
    "select": "user.role === 'admin' || record.created_by === user.id",
    "insert": "user.role === 'teacher'",
    "update": "user.role === 'admin' || record.created_by === user.id",
    "delete": "user.role === 'admin' || record.created_by === user.id"
  }
}
