{
  "name": "GameScenario",
  "description": "Defines a complete simulation scenario, including settings, stages, narrative, and pedagogical mapping.",
  "fields": [
    { "name": "name", "type": "text", "required": true },
    { "name": "description", "type": "text" },
    { "name": "narrative", "type": "longtext" },
    { "name": "initial_state", "type": "json" },
    { "name": "stages", "type": "json" },
    { "name": "created_by", "type": "uuid", "foreign_key": "User" },
    { "name": "curriculum_mapping", "type": "json", "description": "Mapping to curriculum standards, as required by the Ministry of Education." },
    { "name": "moe_approval_id", "type": "text", "description": "Ministry of Education approval ID for the scenario." }
  ],
  "rls_rules": {
    "select": "user.role === 'admin' || record.created_by === user.id",
    "insert": "user.role === 'teacher'",
    "update": "user.role === 'admin' || record.created_by === user.id",
    "delete": "user.role === 'admin' || record.created_by === user.id"
  }
}
